<!-- Kate, don't edit this file-->
<html>
	<head>
		<meta charset="UTF-8"/>
		<title>
		Git's CompliKATEd
		</title>
	</head>
	<body>
		<div id="target"></div>
		<script>

			//static attributes for <objects>
			const staticAttributes = {
				"type":"text/plain",
				"width":"100%",
				"height": "100px",
			}

			//iterated attributes for <objects>
			const iteratedAttributes = {
				"data": {
					"pro":"text/graf-",
					"epi":".txt"
				},
				"id": {
					"pro":"object-",
					"epi":""
				}
			}

			let i = 1;
			while(i < 11) {
				//creating some objects
				let objectTag = document.createElement("object");

				//adding static attributes
				for (static in staticAttributes) {
					objectTag.setAttribute(static, staticAttributes[static]);
				}

				//addint iterated attributes
				for (iterated in iteratedAttributes) {
					objectTag.setAttribute(iterated, iteratedAttributes[iterated]["pro"] + i + iteratedAttributes[iterated]["epi"]);
				}

				//inserting objects into the page
				document.getElementById("target").appendChild(objectTag);
				i++;

			}

			//make sure the object have content
			window.onload = function() {
				let j = 1;

				//get the <object> elements and iterate through them 
				let objects = document.getElementsByTagName("object");
				for (object of objects) {

					// assumes objects less than 100px are empty
		 			if (object.offsetHeight > 99) {

		 				//create header and add text 
		 				let headerTag = document.createElement("h1");
		 				let headerText = document.createTextNode("content from graf-"+j+".txt");
		 				headerTag.appendChild(headerText);

		 				//insert header
		  				document.getElementById("target").insertBefore(headerTag, object);
		 			}

		 			//turn crank
		 			j++;
		 		}
		 	}
		</script>
	</body>
</html>




